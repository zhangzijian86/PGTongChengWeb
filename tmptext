 <tr class='warning'><td width='20%'>编码</td ><td width='20%'>姓名</td><td width='20%'>电话</td><td width='20%'>传真</td><td width='20%'>电子邮件</td></tr>             


<a href='javascript:modify();' target='_blank'></a>


<tr class='warning'><td colspan='1' ></td ><td colspan='3' align='center'><a href='javascript:paging(1);' target='_blank'>首页</a><a href='javascript:paging();' target='_blank'>末页</a></td><td colspan='1' ></td></tr>

insert into pg_user
(
UserID,UserCode,UserName,Password,PasswordKey,PasswordIV,UserClass,Gender,
ISDN,Telephone,Mobile,Fax,Email,Address,Photo,Age,Birthday,Remark,Status,CreatedBy,CreatedDate,ModifiedBy,ModifiedDate
)
values
('1','yongqing','张子健','123456','','','1','1','110226','60962005','13581905786','123456','yongqing@163.com','北京市','','30','1986-11-25','root管理员','1','yongqing','2017-01-11','yongqing','2017-01-11');

insert into pg_user
(
UserID,UserCode,UserName,Password,PasswordKey,PasswordIV,UserClass,Gender,
ISDN,Telephone,Mobile,Fax,Email,Address,Photo,Age,Birthday,Remark,Status,CreatedBy,CreatedDate,ModifiedBy,ModifiedDate
)
values
('2','yongqing1','张子健1','123456','','','1','1','110226','60962005','13581905786','123456','yongqing@163.com','北京市','','30','1986-11-25','root管理员','1','yongqing','2017-01-11','yongqing','2017-01-11');

insert into pg_user
(
UserID,UserCode,UserName,Password,PasswordKey,PasswordIV,UserClass,Gender,
ISDN,Telephone,Mobile,Fax,Email,Address,Photo,Age,Birthday,Remark,Status,CreatedBy,CreatedDate,ModifiedBy,ModifiedDate
)
values
('3','yongqing2','张子健2','123456','','','1','1','110226','60962005','13581905786','123456','yongqing@163.com','北京市','','30','1986-11-25','root管理员','1','yongqing','2017-01-11','yongqing','2017-01-11');

insert into pg_user
(
UserID,UserCode,UserName,Password,PasswordKey,PasswordIV,UserClass,Gender,
ISDN,Telephone,Mobile,Fax,Email,Address,Photo,Age,Birthday,Remark,Status,CreatedBy,CreatedDate,ModifiedBy,ModifiedDate
)
values
('4','yongqing3','张子健3','123456','','','1','1','110226','60962005','13581905786','123456','yongqing@163.com','北京市','','30','1986-11-25','root管理员','1','yongqing','2017-01-11','yongqing','2017-01-11');


insert into pg_user
(
UserID,UserCode,UserName,Password,PasswordKey,PasswordIV,UserClass,Gender,
ISDN,Telephone,Mobile,Fax,Email,Address,Photo,Age,Birthday,Remark,Status,CreatedBy,CreatedDate,ModifiedBy,ModifiedDate
)
values
('5','yongqing5','张子健5','123456','','','1','1','110226','60962005','13581905786','123456','yongqing@163.com','北京市','','30','1986-11-25','root管理员','1','yongqing','2017-01-11','yongqing','2017-01-11');

insert into pg_user
(
UserID,UserCode,UserName,Password,PasswordKey,PasswordIV,UserClass,Gender,
ISDN,Telephone,Mobile,Fax,Email,Address,Photo,Age,Birthday,Remark,Status,CreatedBy,CreatedDate,ModifiedBy,ModifiedDate
)
values
('6','yongqing6','张子健6','123456','','','1','1','110226','60962005','13581905786','123456','yongqing@163.com','北京市','','30','1986-11-25','root管理员','1','yongqing','2017-01-11','yongqing','2017-01-11');

insert into pg_user
(
UserID,UserCode,UserName,Password,PasswordKey,PasswordIV,UserClass,Gender,
ISDN,Telephone,Mobile,Fax,Email,Address,Photo,Age,Birthday,Remark,Status,CreatedBy,CreatedDate,ModifiedBy,ModifiedDate
)
values
('7','yongqing7','张子健7','123456','','','1','1','110226','60962005','13581905786','123456','yongqing@163.com','北京市','','30','1986-11-25','root管理员','1','yongqing','2017-01-11','yongqing','2017-01-11');

insert into pg_user
(
UserID,UserCode,UserName,Password,PasswordKey,PasswordIV,UserClass,Gender,
ISDN,Telephone,Mobile,Fax,Email,Address,Photo,Age,Birthday,Remark,Status,CreatedBy,CreatedDate,ModifiedBy,ModifiedDate
)
values
('8','yongqing8','张子健8','123456','','','1','1','110226','60962005','13581905786','123456','yongqing@163.com','北京市','','30','1986-11-25','root管理员','1','yongqing','2017-01-11','yongqing','2017-01-11');

insert into pg_user
(
UserID,UserCode,UserName,Password,PasswordKey,PasswordIV,UserClass,Gender,
ISDN,Telephone,Mobile,Fax,Email,Address,Photo,Age,Birthday,Remark,Status,CreatedBy,CreatedDate,ModifiedBy,ModifiedDate
)
values
('9','yongqing9','张子健9','123456','','','1','1','110226','60962005','13581905786','123456','yongqing@163.com','北京市','','30','1986-11-25','root管理员','1','yongqing','2017-01-11','yongqing','2017-01-11');


insert into pg_user
(
UserID,UserCode,UserName,Password,PasswordKey,PasswordIV,UserClass,Gender,
ISDN,Telephone,Mobile,Fax,Email,Address,Photo,Age,Birthday,Remark,Status,CreatedBy,CreatedDate,ModifiedBy,ModifiedDate
)
values
('10','yongqing10','张子健10','123456','','','1','1','110226','60962005','13581905786','123456','yongqing@163.com','北京市','','30','1986-11-25','root管理员','1','yongqing','2017-01-11','yongqing','2017-01-11');
insert into pg_user
(
UserID,UserCode,UserName,Password,PasswordKey,PasswordIV,UserClass,Gender,
ISDN,Telephone,Mobile,Fax,Email,Address,Photo,Age,Birthday,Remark,Status,CreatedBy,CreatedDate,ModifiedBy,ModifiedDate
)
values
('11','yongqing11','张子健11','123456','','','1','1','110226','60962005','13581905786','123456','yongqing@163.com','北京市','','30','1986-11-25','root管理员','1','yongqing','2017-01-11','yongqing','2017-01-11');
insert into pg_user
(
UserID,UserCode,UserName,Password,PasswordKey,PasswordIV,UserClass,Gender,
ISDN,Telephone,Mobile,Fax,Email,Address,Photo,Age,Birthday,Remark,Status,CreatedBy,CreatedDate,ModifiedBy,ModifiedDate
)
values
('12','yongqing12','张子健12','123456','','','1','1','110226','60962005','13581905786','123456','yongqing@163.com','北京市','','30','1986-11-25','root管理员','1','yongqing','2017-01-11','yongqing','2017-01-11');


insert into pg_order(OrderID,OrderCode,Status,Remark,FlowRemark,Price,CreatedBy,CreatedDate,ModifiedBy,ModifiedDate)values('1','11',-1,'11','a11','b11','zzj',now(),'zzj',now());
insert into pg_order(OrderID,OrderCode,Status,Remark,FlowRemark,Price,CreatedBy,CreatedDate,ModifiedBy,ModifiedDate)values('2','22',1,'22','a22','b22','zzj',now(),'zzj',now());
insert into pg_order(OrderID,OrderCode,Status,Remark,FlowRemark,Price,CreatedBy,CreatedDate,ModifiedBy,ModifiedDate)values('3','33',2,'33','a33','b33','zzj',now(),'zzj',now());
insert into pg_order(OrderID,OrderCode,Status,Remark,FlowRemark,Price,CreatedBy,CreatedDate,ModifiedBy,ModifiedDate)values('4','a44',3,'44','a44','b44','zzj',now(),'zzj',now());
insert into pg_order(OrderID,OrderCode,Status,Remark,FlowRemark,Price,CreatedBy,CreatedDate,ModifiedBy,ModifiedDate)values('5','a55',4,'55','a55','b55','zzj',now(),'zzj',now());
insert into pg_order(OrderID,OrderCode,Status,Remark,FlowRemark,Price,CreatedBy,CreatedDate,ModifiedBy,ModifiedDate)values('6','66',5,'66','a66','b66','zzj',now(),'zzj',now());
insert into pg_order(OrderID,OrderCode,Status,Remark,FlowRemark,Price,CreatedBy,CreatedDate,ModifiedBy,ModifiedDate)values('7','100',100,'100','a100','b100','zzj',now(),'zzj',now());



http://127.0.0.1:8080/WebRoot/GetAllOrder?Model=0&Type=0&Condition=&CreatedBy=zzj&CurrentPage=0&EachPage=10

 `OrderID` varchar(36) NOT NULL COMMENT '订单编码',

  `Status` int(11) NOT NULL DEFAULT '1' COMMENT '订单状态(-1,作废 0,提交材料 1,价格反馈 2,接受订单 3,开始1 4,开始2 5,开始3)',

  `Remark` varchar(1000) DEFAULT NULL COMMENT '销售备注',

  `FlowRemark` varchar(1000) DEFAULT NULL COMMENT '流程备注',

  `Price` varchar(255) DEFAULT NULL COMMENT '价格',

  `CreatedBy` varchar(20) NOT NULL DEFAULT 'SystemAdmin' COMMENT '创建人',

  `CreatedDate` datetime NOT NULL COMMENT '创建时间',

  `ModifiedBy` varchar(20) NOT NULL DEFAULT 'SystemAdmin' COMMENT '修改人',

  `ModifiedDate` datetime NOT NULL COMMENT '修改时间',

private String OrderID;//订单编码
private String Status;//订单状态(-1,作废 0,提交材料 1,价格反馈 2,接受订单 3,开始1 4,开始2 5,开始3)
private String Remark;//销售备注
private String FlowRemark;//流程备注
private String Price;//价格
private String CreatedBy;//创建人
private String CreatedDate;//创建时间
private String ModifiedBy;//修改人
private String ModifiedDate;//修改时间




			htmltmp=htmltmp+'<tr class='warning'><td colspan='1' ></td ><td colspan='3' align='center'><a href='javascript:paging(1);''+
			'target='_blank'>首页</a>';
			for(int j = 1; j<count+1 ; j++){ 
				htmltmp=htmltmp+'<a href='javascript:paging('+j+');' target='_blank'>'+j+'</a>'      
        	}
			htmltmp=htmltmp+'<a href='javascript:paging('+count+');' target='_blank'>末页</a></td><td colspan='1' ></td></tr>';













					if(count!=-1){
			 $.ajax({
			        type: 'Post',
			        url: 'GetAllUsers?CurrentPage=1&EachPage=10',
			        dataType: 'json',
			        data: {		            
			        },
			        success: function (data) {
			        	if(data=='error'){
			        		alert('帐号或密码错误!');
			        	}else{
			        		alert('==data=='+data);
			        	}	        	
			        },
			       error: function( msg ) { 
			    	   alert('修改人员信息失败'); 
			       }
			});	
			htmltmp=htmltmp+'<tr class='warning'><td colspan='1' ></td ><td colspan='3' align='center'><a href='javascript:paging(1);''+
			'target='_blank'>首页</a>';
			for(int j = 1; j<count+1 ; j++){ 
				htmltmp=htmltmp+'<a href='javascript:paging('+j+');' target='_blank'>'+j+'</a>'      
        	}
			htmltmp=htmltmp+'<a href='javascript:paging('+count+');' target='_blank'>末页</a></td><td colspan='1' ></td></tr>';


















//htmltmp=htmltmp+'<tr><td width='20%'>'+data[i].UserCode+'</td>'+
                        		//'<td width='20%'>'+data[i].UserName+'</td><td width='20%'>'+data[i].Telephone+'</td>'+
                        		//'<td width='20%'>'+data[i].Mobile+'</td><td width='20%'>'+data[i].Email+'</td>';
		}










CREATE TABLE `pg_user` (
  `UserID` varchar(20) NOT NULL COMMENT '用户系统编码',
  `UserCode` varchar(16) NOT NULL COMMENT '用户名',
  `UserName` varchar(20) NOT NULL COMMENT '姓名',
  `Password` varchar(50) NOT NULL COMMENT '密码',
  `PasswordKey` varchar(50) DEFAULT NULL COMMENT '加解密密钥',
  `PasswordIV` varchar(50) DEFAULT NULL COMMENT '加解密矢量',
  `UserClass` int(11) NOT NULL COMMENT '用户类别（1，系统用户，2，员工）',
  `Gender` int(11) NOT NULL COMMENT '性别:1,男，2,女',
  `ISDN` varchar(20) DEFAULT NULL COMMENT '身份证号',
  `Telephone` varchar(20) DEFAULT NULL COMMENT '电话',
  `Mobile` varchar(20) DEFAULT NULL COMMENT '手机',
  `Fax` varchar(20) DEFAULT NULL COMMENT '传真',
  `Email` varchar(255) DEFAULT NULL COMMENT '电子邮件',
  `Address` varchar(255) DEFAULT NULL COMMENT '家庭住址',
  `Photo` longblob COMMENT '相片',
  `Age` int(11) DEFAULT NULL COMMENT '年龄',
  `Birthday` datetime DEFAULT NULL COMMENT '出生日期',
  `Remark` varchar(255) DEFAULT NULL COMMENT '备注',
  `Status` int(11) NOT NULL DEFAULT '1' COMMENT '用户状态(1,有效，0,禁用，-1,删除)',
  `CreatedBy` varchar(20) NOT NULL DEFAULT 'SystemAdmin' COMMENT '创建人',
  `CreatedDate` datetime NOT NULL COMMENT '创建时间',
  `ModifiedBy` varchar(20) NOT NULL DEFAULT 'SystemAdmin' COMMENT '修改人',
  `ModifiedDate` datetime NOT NULL COMMENT '修改时间',
  PRIMARY KEY (`UserID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='用户表';

PriceFeedback 价格反馈 AcceptOrder 接受订单  LaunchOrder 发起订单
CREATE TABLE `pg_order` (
  `OrderID` varchar(36) NOT NULL COMMENT '订单ID',
  `OrderCode` varchar(36) NOT NULL COMMENT '订单编码',
  `Status` int(11) NOT NULL DEFAULT '1' COMMENT '订单状态(-1,作废 0,提交材料 1,价格反馈 2,发起订单  3,接受订单 4,开始1 5,开始2 6,开始3)',
  `Remark` varchar(1000) DEFAULT NULL COMMENT '销售备注',
  `FlowRemark` varchar(1000) DEFAULT NULL COMMENT '流程备注',
  `Price` varchar(255) DEFAULT NULL COMMENT '价格',
  `CreatedBy` varchar(20) NOT NULL DEFAULT 'SystemAdmin' COMMENT '创建人',
  `CreatedDate` datetime NOT NULL COMMENT '创建时间',
  `ModifiedBy` varchar(20) NOT NULL DEFAULT 'SystemAdmin' COMMENT '修改人',
  `ModifiedDate` datetime NOT NULL COMMENT '修改时间',
  PRIMARY KEY (`OrderID`)
)ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='订单表';


	function getdata(){
		 $.ajax({
		        type: "Post",
		        url: "GetOneUser?UserID="+,
		        dataType: "html",
		        data: {		            
		        },
		        success: function (data) {
		        	if(data=="error"){
		        		count = -1;
		        	}else{
		        	}	        	
		        },
		       error: function( msg ) { 
		    	   alert("获取人员信息失败"); 
		        }
		});		
	}




		        		alert("=data[0].UserName=="+data[0].UserName);
		        		alert("=value=="+document.getElementById("UserID").value);
		        		document.getElementById("UserID").value = data[0].UserID;
		        		document.getElementById("UserCode").value = data[0].UserCode;
		        		document.getElementById("UserName").value = data[0].UserName;
		        		document.getElementById("Password").value = data[0].Password;
		        		if(data[0].Gender==1){
		        			document.getElementById("Gender").value = "男";
		        		}else{
		        			document.getElementById("Gender").value = "女";
		        		}
		        		document.getElementById("Address").value = data[0].Address;
		        		document.getElementById("ISDN").value = data[0].ISDN;
		        		document.getElementById("Telephone").value = data[0].Telephone;
		        		document.getElementById("Mobile").value = data[0].Mobile;
		        		document.getElementById("Email").value = data[0].Email;

UpdateUser



		        		 UserID = data[0].UserID;
		        	     UserCode = data[0].UserCode;
		        	     UserName = data[0].UserName;
		        	     Password = data[0].Password;
		        	     Gender = data[0].Gender;
		        	     Address = data[0].Address;
		        	     ISDN = data[0].ISDN;
		        	     Telephone = data[0].Telephone;
		        	     Mobile = data[0].Mobile;
		        	     Email = data[0].Email;
		        	    setvalue()

		document.getElementById("UserID").value = UserID;
		document.getElementById("UserCode").value = UserCode;
		document.getElementById("UserName").value = UserName;
		document.getElementById("Password").value = Password;
		if(Gender==1){
			document.getElementById("Gender").value = "男";
		}else{
			document.getElementById("Gender").value = "女";
		}
		document.getElementById("Address").value = Address;
		document.getElementById("ISDN").value = ISDN;
		document.getElementById("Telephone").value = Telephone;
		document.getElementById("Mobile").value = Mobile;
		document.getElementById("Email").value = Email;


    var UserIDtmp = document.getElementById("UserID");
    var UserCodetmp = document.getElementById("UserCode");
    var UserNametmp = document.getElementById("UserName");
    var Passwordtmp = document.getElementById("Password");
    var Gendertmp = document.getElementById("Gender");
    var Addresstmp = document.getElementById("Address");
    var ISDNtmp = document.getElementById("ISDN");
    var Telephonetmp = document.getElementById("Telephone");
    var Mobiletmp = document.getElementById("Mobile");
    var Emailtmp = document.getElementById("Email");


	 UserIDtmp.value = data[0].UserID;
		        	     UserCodetmp.value = data[0].UserCode;
		        	     UserNametmp.value = data[0].UserName;
		        	     Passwordtmp.value = data[0].Password;
		        	     Gendertmp.value = data[0].Gender;
		        	     Addresstmp.value = data[0].Address;
		        	     ISDNtmp.value = data[0].ISDN;
		        	     Telephonetmp.value = data[0].Telephone;
		        	     Mobiletmp.value = data[0].Mobile;
		        	     Emailtmp.value = data[0].Email;


function getdata(){
		document.getElementById("UserID").value = UserID;
		document.getElementById("UserCode").value = UserCode;
		document.getElementById("UserName").value = UserName;
		document.getElementById("Password").value = Password;
		if(Gender==1){
			document.getElementById("Gender").value = "男";
		}else{
			document.getElementById("Gender").value = "女";
		}
		document.getElementById("Address").value = Address;
		document.getElementById("ISDN").value = ISDN;
		document.getElementById("Telephone").value = Telephone;
		document.getElementById("Mobile").value = Mobile;
		document.getElementById("Email").value = Email;
	}


document.ready = function getdata(){
		alert("=====1===");
		var url = document.URL;
		var tmpUserID = url.split('?')[1];  
		var UserID = tmpUserID.split("=")[1];  
		 $.ajax({
		        type: "Post",
		        url: "GetOneUser?UserID="+UserID,
		        dataType: "json",
		        data: {		            
		        },
		        success: function (data) {
		        	if(data=="error"){		        	
		        	}else{
		        	}	        	
		        },
		       error: function( msg ) { 
		    	   alert("获取人员信息失败"); 
		        }
		});		
	}	


window.onload = function getdata(){
		alert("=====1===");
		var url = document.URL;
		var tmpUserID = url.split('?')[1];  
		var UserID = tmpUserID.split("=")[1];  
		 $.ajax({
		        type: "Post",
		        url: "GetOneUser?UserID="+UserID,
		        dataType: "json",
		        data: {		            
		        },
		        success: function (data) {
		        	if(data=="error"){		        	
		        	}else{
		        	}	        	
		        },
		       error: function( msg ) {  
		    	   alert("获取人员信息失败"); 
		        }
		});		
	}	


		        	     " UserCode = ?,";
		        	     " UserName = ?,";
		        	     " Password = ?,";
		        	     " Gender = ?,";
		        	     " Address = ?,";
		        	     " ISDN = ?,";
		        	     " Telephone = ?,";
		        	     " Mobile = ?,";
		        	     " Email = ?,";



 where UserID='1'
 where UserID = '2'

GetUserCode

select REPLACE(UserCode,'yongqing','') as number  from pg_user order by UserCode desc

select max(REPLACE(UserCode,'yongqing','')+0) as number  from pg_user order by UserCode desc;


http://127.0.0.1:8080/WebRoot/Login?UserCode=yongqing&Password=123456
http://127.0.0.1:8080/WebRoot/SubmittedMaterial?OrderCode=zzj201701113&Remark=121&CreatedBy=yongqing
http://127.0.0.1:8080/WebRoot/LaunchOrder?OrderCode=zzj201701113&CreatedBy=yongqing
http://127.0.0.1:8080/WebRoot/GetAllOrder?Model=0&Type=0&Condition=&CreatedBy=zzj&CurrentPage=0&EachPage=10


	function confirm(id) {
		$.ajax({
			type : "Post",
			url : "jpushPriceListResult.jsp?id=" + id,
			dataType : "html",
			data : {
			//organiseUnitID: selorganiseUnitID,
			//CharType: 'CockiptTrendChange'
			},
			success : function(data) {
				if (data > 0) {
					window.location.reload();
				} else {
					alert("删除失败请重试");
				}
			},
			error : function(msg) {
				alert("删除失败请重试");
			}
		});
	}



